<!DOCTYPE html>
<html lang="sp">

<head>
    <meta charset="utf-8">
    <title>Tu Papeleria en Linea-Papeleria Cositas</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="Free HTML Templates" name="keywords">
    <meta content="Free HTML Templates" name="description">

    <!-- Favicon -->
    <link href="img/favicon.ico" rel="icon">

    <!-- Google Web Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans&family=Nunito:wght@600;700;800&display=swap" rel="stylesheet"> 

    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">

    <!-- Flaticon Font -->
    <link href="lib/flaticon/font/flaticon.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">
    <link href="lib/tempusdominus/css/tempusdominus-bootstrap-4.min.css" rel="stylesheet" />

    <!-- Customized Bootstrap Stylesheet -->
    <link href="css/style.css" rel="stylesheet">
</head>

<body>
    <!-- Topbar Start -->
    <div class="container-fluid">
        <div class="row bg-secondary py-2 px-lg-5">
            <div class="col-lg-6 text-center text-lg-left mb-2 mb-lg-0">
                <div class="d-inline-flex align-items-center">
                    <a class="text-white pr-3" href="">FAQs</a>
                    <span class="text-white">|</span>
                    <a class="text-white px-3" href="">Help</a>
                    <span class="text-white">|</span>
                    <a class="text-white pl-3" href="">Soporte</a>
                </div>
            </div>
        </div>
        <div class="row py-3 px-lg-5">
            <div class="col-lg-4">
                <a href="" class="navbar-brand d-none d-lg-block">
                    <h1 class="m-0 display-5 text-capitalize"><span class="text-primary">Tu Papeleria </span>En Linea</h1>
                </a>
            </div>
            <div class="col-lg-8 text-center text-lg-right">
                <div class="d-inline-flex align-items-center">
                    <div class="d-inline-flex flex-column text-center pr-3 border-right">
                        <h6>Horario de atencion</h6>
                        <p class="m-0">Lunes a Sabado de 8.00AM - 5.30PM</p>
                    </div>
                    <div class="d-inline-flex flex-column text-center pl-3">
                        <h6>llamame</h6>
                        <p class="m-0">+57 300 5674377</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Topbar End -->


    <!-- Navbar Start -->
    <div class="container-fluid p-0">
        <nav class="navbar navbar-expand-lg bg-dark navbar-dark py-3 py-lg-0 px-lg-5">
            <a href="" class="navbar-brand d-block d-lg-none"><span class="text-primary">Papeleria </span> Cositas</h1>
            </a>
            <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbarCollapse">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-between px-3" id="navbarCollapse">
                <div class="navbar-nav mr-auto py-0">
                    <a href="index.html" class="nav-item nav-link">Inicio</a>
                    <a href="about.html" class="nav-item nav-link active">Compras</a>
                    <a href="contact.html" class="nav-item nav-link">Contactanos</a>
                </div>
                <a href="about.html" class="btn btn-lg btn-primary px-3 d-none d-lg-block">Carrito de compras</a>
            </div>
        </nav>
    </div>
    <!-- Navbar End -->

	<!-- Carrito start-->
    <script>
    document.addEventListener('DOMContentLoaded', () => {
    // Variables
    const baseDeDatos = [
    {
    id: 1,
    nombre: 'Sharpie',
    precio: 3500,
    imagen: 'img/sharpie.jpg'
    },
    {
    id: 2,
    nombre: 'Paquete resaltador',
    precio: 7200,
    imagen: 'img/resaltador.jpg'
    },
    {
    id: 3,
    nombre: 'Oil Colour',
    precio: 26500,
    imagen: 'img/Oil_Colour.jpg'
    },
    {
    id: 4,
    nombre: 'Perforadora',
    precio: 3500,
    imagen: 'img/Perforadoraind.jpg'
    },
    {
    id: 5,
    nombre: 'Corrector',
    precio: 2000,
    imagen: 'img/corrector.jpg'
    },
    {
    id: 6,
    nombre: 'Pegastic',
    precio: 3500,
    imagen: 'img/pegastic.jpg'
    },
    {
    id: 7,
    nombre: 'Escarcha liquida',
    precio: 2000,
    imagen: 'img/escarchaliqui.jpg'
    },
    {
    id: 8,
    nombre: 'Calculadora-Casio',
    precio: 60000,
    imagen: 'img/calcu1.jpg'
    },
    {
    id: 9,
    nombre: 'Calculadora ',
    precio: 48000,
    imagen: 'img/calcu2.jpg'
    },
    {
    id: 10,
    nombre: 'Esfero',
    precio: 10000,
    imagen: 'img/esfero1.jpg'
    },
    {
    id: 11,
    nombre: 'Esferos',
    precio: 2500,
    imagen: 'img/esfero2.jpg'
    },
    {
    id: 12,
    nombre: 'Micropuntas',
    precio: 1200,
    imagen: 'img/micropunta.jpg'
    },
    {
    id: 13,
    nombre: 'Agendas',
    precio: 26000,
    imagen: 'img/carp.jpg'
    },
    {
    id: 14,
    nombre: 'Cartas',
    precio: 12000,
    imagen: 'img/cartas.jpg'
    },
    {
    id: 15,
    nombre: 'Pinturas acrilico',
    precio: 2700,
    imagen: 'img/oleopint.jpg'
    },
    {
    id: 16,
    nombre: 'Pinceles',
    precio: 9000,
    imagen: 'img/pinceles.jpg'
    }

    ];
    
    let carrito = [];
    const divisa = '$';
    const unidad = "c/u"
    const DOMitems = document.querySelector('#items');
    const DOMcarrito = document.querySelector('#carrito');
    const DOMtotal = document.querySelector('#total');
    const DOMbotonVaciar = document.querySelector('#boton-vaciar');
    const DOMbotonEnviar = document.querySelector('#boton-enviar');
    
    
    // Funciones
    
    /**
    * Dibuja todos los productos a partir de la base de datos. No confundir con el carrito
    */
    function renderizarProductos() {
    baseDeDatos.forEach((info) => {
    // Estructura
    const miNodo = document.createElement('div');
    miNodo.classList.add('card', 'col-sm-4');
    // Body
    const miNodoCardBody = document.createElement('div');
    miNodoCardBody.classList.add('card-body');
    // Titulo
    const miNodoTitle = document.createElement('h5');
    miNodoTitle.classList.add('card-title');
    miNodoTitle.textContent = info.nombre;
    // Imagen
    const miNodoImagen = document.createElement('img');
    miNodoImagen.classList.add('img-fluid');
    miNodoImagen.setAttribute('src', info.imagen);
    // Precio
    const miNodoPrecio = document.createElement('p');
    miNodoPrecio.classList.add('card-text');
    miNodoPrecio.textContent = `${divisa}${info.precio}${unidad}`;
    // Boton 
    const miNodoBoton = document.createElement('button');
    miNodoBoton.classList.add('btn', 'btn-primary');
    miNodoBoton.textContent = '+';
    miNodoBoton.setAttribute('marcador', info.id);
    miNodoBoton.addEventListener('click', anyadirProductoAlCarrito);
    // Insertamos
    miNodoCardBody.appendChild(miNodoImagen);
    miNodoCardBody.appendChild(miNodoTitle);
    miNodoCardBody.appendChild(miNodoPrecio);
    miNodoCardBody.appendChild(miNodoBoton);
    miNodo.appendChild(miNodoCardBody);
    DOMitems.appendChild(miNodo);
    });
    }
    
    /**
    * Evento para añadir un producto al carrito de la compra
    */
    function anyadirProductoAlCarrito(evento) {
    // Anyadimos el Nodo a nuestro carrito
    carrito.push(evento.target.getAttribute('marcador'))
    // Actualizamos el carrito 
    renderizarCarrito();
    
    }
    
    /**
    * Dibuja todos los productos guardados en el carrito
    */
    function renderizarCarrito() {
    // Vaciamos todo el html
    DOMcarrito.textContent = '';
    // Quitamos los duplicados
    const carritoSinDuplicados = [...new Set(carrito)];
    // Generamos los Nodos a partir de carrito
    carritoSinDuplicados.forEach((item) => {
    // Obtenemos el item que necesitamos de la variable base de datos
    const miItem = baseDeDatos.filter((itemBaseDatos) => {
    // ¿Coincide las id? Solo puede existir un caso
    return itemBaseDatos.id === parseInt(item);
    });
    // Cuenta el número de veces que se repite el producto
    const numeroUnidadesItem = carrito.reduce((total, itemId) => {
    // ¿Coincide las id? Incremento el contador, en caso contrario no mantengo
    return itemId === item ? total += 1 : total;
    }, 0);
    // Creamos el nodo del item del carrito
    const miNodo = document.createElement('li');
    miNodo.classList.add('list-group-item', 'text-right', 'mx-2');
    miNodo.textContent = `${numeroUnidadesItem} x ${miItem[0].nombre} - ${miItem[0].precio}${divisa}`;
    // Boton de borrar
    const miBoton = document.createElement('button');
    miBoton.classList.add('btn', 'btn-danger', 'mx-5');
    miBoton.textContent = 'X';
    miBoton.style.marginLeft = '1rem';
    miBoton.dataset.item = item;
    miBoton.addEventListener('click', borrarItemCarrito);
    // Mezclamos nodos
    miNodo.appendChild(miBoton);
    DOMcarrito.appendChild(miNodo);
    });
    //Boton comprar
    
    // Renderizamos el precio total en el HTML
    DOMtotal.textContent = calcularTotal();
    }
    
    /**
    * Evento para borrar un elemento del carrito
    */
    function borrarItemCarrito(evento) {
    // Obtenemos el producto ID que hay en el boton pulsado
    const id = evento.target.dataset.item;
    // Borramos todos los productos
    carrito = carrito.filter((carritoId) => {
    return carritoId !== id;
    });
    // volvemos a renderizar
    renderizarCarrito();
    }
    
    /**
    * Calcula el precio total teniendo en cuenta los productos repetidos
    */
    function calcularTotal() {
    // Recorremos el array del carrito 
    return carrito.reduce((total, item) => {
    // De cada elemento obtenemos su precio
    const miItem = baseDeDatos.filter((itemBaseDatos) => {
    return itemBaseDatos.id === parseInt(item);
    });
    // Los sumamos al total
    return total + miItem[0].precio;
    }, 0).toFixed(0);
    }
    
    /**
    * Varia el carrito y vuelve a dibujarlo
    */
    function vaciarCarrito() {
    // Limpiamos los productos guardados
    carrito = [];
    // Renderizamos los cambios
    renderizarCarrito();
    }
    function enviarmnsj(){
    var Email=prompt("Ingrese tu correo: ");
    var sEmail = prompt("¿A quien quieres enviarlo?", "E-mail");
    if(sEmail != null) {
    var sLink = "mailto:" + escape(sEmail)
    + "?subject=" + escape("Buenas quiero comprar los diferentes objetos ")
    + "&body=" + carrito();
    window.location.href = sLink;
    }
    }
    // Eventos
    DOMbotonVaciar.addEventListener('click', vaciarCarrito);
    DOMbotonEnviar.addEventListener('click', enviarmnsj);
  
    // Inicio
    renderizarProductos();
    renderizarCarrito();
    });
    </script>
    <div class="container">
    <div class="row">
    <!-- Elementos generados a partir del JSON -->
    <main id="items" class="col-sm-8 row"></main>
    <!-- Carrito -->
    <aside class="col-sm-4">
    <h2>Carrito</h2>
    <!-- Elementos del carrito -->
    <ul id="carrito" class="list-group"></ul>
    <hr>
    <!-- Precio total -->
    <p class="text-right">Total: $ <span id="total"></span>;</p>
    <button id="boton-vaciar" class="btn btn-danger">Vaciar</button>
    <button id="boton-enviar" class="btn btn-danger">Comprar</button>
    
    </aside>
    </div>
    </div>

    <div class="container-fluid pt-5">
        <div class="d-flex flex-column text-center mb-5 pt-5">
            <h4 class="text-secondary mb-3">Compra aqui</h4>
           </div>
        <div class="row justify-content-center">
            <div class="col-12 col-sm-8 mb-5">
                <div class="contact-form">
                    <div id="success"></div>
                    <form name="sentMessage" action="mailto:devalencia33na.edu.co" novalidate="novalidate">
                        <div class="control-group">
                            <input type="text" class="form-control p-4" id="name" placeholder="Tu Nombre" required="required" data-validation-required-message="Please enter your name" />
                            <p class="help-block text-danger"></p>
                        </div>
                        <div class="control-group">
                            <input type="email" class="form-control p-4" id="email" placeholder="tu Email" required="required" data-validation-required-message="Please enter your email" />
                            <p class="help-block text-danger"></p>
                        </div>
                        <div class="control-group">
                            <input type="text" class="form-control p-4" id="subject" placeholder="Direccion" required="required" data-validation-required-message="Please enter a subject" />
                            <p class="help-block text-danger"></p>
                        </div>
                        <div class="control-group">
                            <textarea class="form-control p-4" rows="6" id="message" placeholder="Mensage" required="required" data-validation-required-message="Please enter your message"></textarea><script>carrito()</script>
                            <p class="help-block text-danger"></p>
                        </div>
                        <div>
                            <button class="btn btn-primary py-3 px-5" type="submit" id="sendMessageButton">Enviar Mensage</button>
                        </div>
                    </form>
                </div>
            </div>
            <div class="col-12 mb-n2 p-0">
                <iframe style="width: 100%; height: 500px;" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d994.1958359850448!2d-74.4627441391787!3d4.632703488762713!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8e3f6c285881d58d%3A0x3ff495ff971a97b7!2sCl.%208%20%2319-28%2C%20La%20Mesa%2C%20Cundinamarca!5e0!3m2!1ses!2sco!4v1670085175560!5m2!1ses!2sco" frameborder="0" style="border:0;" allowfullscreen="" aria-hidden="false" tabindex="0"></iframe>
            </div>
        </div>
    </div>
    <!-- Carrito End -->

    <!-- Footer Start -->
    <div class="container-fluid bg-dark text-white mt-5 py-5 px-sm-3 px-md-5">
        <div class="row pt-5">
            <div class="col-lg-4 col-md-12 mb-5">
                <h1 class="mb-3 display-5 text-capitalize text-white"><span class="text-primary">Papeleria</span> Cositas</h1>
                <p class="m-0">Esta es una pagina Realizada por un aprendiz del sena la cual hace de una tienda en linea donde se puede comprar desde productos de papeleria,utiles,fotocopias entre otros</p>
            </div>
            <div class="col-lg-8 col-md-12">
                <div class="row">
                    <div class="col-md-4 mb-5">
                        <h5 class="text-primary mb-4">Contactos</h5>
                        <p><i class="fa fa-map-marker-alt mr-2"></i>Calle 8 # 19-28,La Mesa Cundinamarca,Colombia</p>
                        <p><i class="fa fa-phone-alt mr-2"></i>+57 300 5674377</p>
                    </div>
                    <div class="col-md-4 mb-5">
                        <h5 class="text-primary mb-4">Links</h5>
                        <div class="d-flex flex-column justify-content-start">
                            <a class="text-white mb-2" href="index.html"><i class="fa fa-angle-right mr-2"></i>Inicios</a>
                            <a class="text-white mb-2" href="about.html"><i class="fa fa-angle-right mr-2"></i>Compras</a>
                            <a class="text-white" href="contact.html"><i class="fa fa-angle-right mr-2"></i>Contactanos</a>
                        </div>
                    </div>
                    
                </div>
            </div>
        </div>
    </div>
    <div class="container-fluid text-white py-4 px-sm-3 px-md-5" style="background: #111111;">
        <div class="row">
            <div class="col-md-6 text-center text-md-left mb-3 mb-md-0">
                <p class="m-0 text-white">
                    &copy; <a class="text-white font-weight-bold" href="#">Tu papeleria en linea</a>. All Rights Reserved. Designed by
                    <a class="text-white font-weight-bold" href="https://htmlcodex.com">HTML Codex</a>
                </p>
            </div>
            <div class="col-md-6 text-center text-md-right">
                <ul class="nav d-inline-flex">
                    <li class="nav-item">
                        <a class="nav-link text-white py-0" href="#">Privacy</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-white py-0" href="#">Terms</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-white py-0" href="#">FAQs</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-white py-0" href="#">Help</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <!-- Footer End -->


    <!-- Back to Top -->
    <a href="#" class="btn btn-lg btn-primary back-to-top"><i class="fa fa-angle-double-up"></i></a>


    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
    <script src="lib/easing/easing.min.js"></script>
    <script src="lib/owlcarousel/owl.carousel.min.js"></script>
    <script src="lib/tempusdominus/js/moment.min.js"></script>
    <script src="lib/tempusdominus/js/moment-timezone.min.js"></script>
    <script src="lib/tempusdominus/js/tempusdominus-bootstrap-4.min.js"></script>

    <!-- Contact Javascript File -->
    <script src="mail/jqBootstrapValidation.min.js"></script>
    <script src="mail/contact.js"></script>

    <!-- Template Javascript -->
    <script src="js/main.js"></script>
</body>

</html>